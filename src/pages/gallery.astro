---
import Layout from "../layouts/Layout.astro";
import PocketBase from "pocketbase";

const pb = new PocketBase("http://127.0.0.1:8090");
const records = await pb.collection("svgs").getFullList();
---

<Layout>
  <main class="max-w-5xl mx-auto p-6 space-y-6">
    <h1 class="text-2xl font-bold">SVG Gallery</h1>

    <div class="grid md:grid-cols-2 gap-6">
      {
        records.map((item) => (
          <div class="card bg-base-100 shadow p-4 space-y-2">
            <h2 class="font-semibold">{item.name}</h2>
            <pre class="text-xs bg-gray-100 p-2 rounded overflow-auto">
              {item.code}
            </pre>
            <div class="border rounded p-2" set:html={item.code} />
          </div>
        ))
      }
    </div>
  </main>
</Layout>
